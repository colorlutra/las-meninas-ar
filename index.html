<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Las Meninas ARï¼ˆã‚¹ã‚¯ã‚·ãƒ§æ©Ÿèƒ½ä»˜ãï¼‰</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.2/aframe/build/aframe-ar.min.js"></script>
    <style>
      body { margin: 0; overflow: hidden; }
      #screenshotBtn {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 10;
        padding: 10px 15px;
        background: rgba(0,0,0,0.6);
        color: white;
        border: none;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <!-- æ’®å½±ãƒœã‚¿ãƒ³ -->
    <button id="screenshotBtn">ğŸ“¸ æ’®å½±</button>

    <a-scene
      embedded
      arjs="sourceType: webcam; trackingMethod: best; debugUIEnabled: false;"
      vr-mode-ui="enabled: false"
      renderer="preserveDrawingBuffer: true">

      <a-assets>
        <img id="meninas" src="lasmeninas_transparent.png">
      </a-assets>

      <!-- ç”»åƒæ¯”ç‡ï¼š1688Ã—3663ï¼ˆ19.5:9ï¼‰ã«åˆã‚ã›ãŸã‚µã‚¤ã‚º -->
      <a-entity
        geometry="primitive: plane; height: 2.169; width: 1.0"
        material="src: #meninas; transparent: true; alphaTest: 0.05"
        position="0 0.3 -2"
        rotation="0 0 0">
      </a-entity>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      document.getElementById('screenshotBtn').addEventListener('click', () => {
        const scene = document.querySelector('a-scene');
        const canvas = scene.renderer && scene.renderer.domElement;
        if (canvas) {
          try {
            const image = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.href = image;
            link.download = 'ar_screenshot.png';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
          } catch (e) {
            alert("ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚HTTPSç’°å¢ƒã§ãŠè©¦ã—ãã ã•ã„ã€‚");
          }
        } else {
          alert("canvasãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚");
        }
      });
    </script>
  </body>
</html>

































